# Tutorial 0013 defaults (ESP-IDF 5.4.1)
#
# Reproducible, board-appropriate defaults for AtomS3R.
#

# Flash size: AtomS3R is commonly 8MB.
CONFIG_ESPTOOLPY_FLASHSIZE_8MB=y
CONFIG_ESPTOOLPY_FLASHSIZE="8MB"

# Partition table: project-local partitions.csv (factory 4M + storage 1M).
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="partitions.csv"
CONFIG_PARTITION_TABLE_FILENAME="partitions.csv"

# CPU frequency: AtomS3(R) demos usually run at 240MHz.
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240=y
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ=240

# Main task stack: M5GFX is C++ and can be stack-hungry.
CONFIG_ESP_MAIN_TASK_STACK_SIZE=8000

# FATFS: enable long file name support so we can use real GIF filenames from the storage image.
CONFIG_FATFS_LFN_HEAP=y
CONFIG_FATFS_MAX_LFN=255

# Tutorial defaults (match known-good bring-up):
CONFIG_TUTORIAL_0013_LCD_Y_OFFSET=32
CONFIG_TUTORIAL_0013_LCD_SPI_PCLK_HZ=40000000
CONFIG_TUTORIAL_0013_CANVAS_USE_PSRAM=n
CONFIG_TUTORIAL_0013_PRESENT_USE_DMA=y
CONFIG_TUTORIAL_0013_BACKLIGHT_GATE_ENABLE=y
CONFIG_TUTORIAL_0013_BACKLIGHT_GATE_GPIO=7
CONFIG_TUTORIAL_0013_BACKLIGHT_GATE_ACTIVE_LOW=y
CONFIG_TUTORIAL_0013_BACKLIGHT_I2C_ENABLE=y
CONFIG_TUTORIAL_0013_BL_I2C_SCL_GPIO=0
CONFIG_TUTORIAL_0013_BL_I2C_SDA_GPIO=45
CONFIG_TUTORIAL_0013_BL_I2C_ADDR=0x30
CONFIG_TUTORIAL_0013_BL_I2C_REG=0x0e
CONFIG_TUTORIAL_0013_BL_BRIGHTNESS_ON=255
CONFIG_TUTORIAL_0013_BUTTON_GPIO=41
CONFIG_TUTORIAL_0013_BUTTON_ACTIVE_LOW=y
CONFIG_TUTORIAL_0013_BUTTON_DEBOUNCE_MS=50
CONFIG_ECHO_GIF_MIN_FRAME_DELAY_MS=10
CONFIG_ECHO_GIF_MAX_COUNT=32
CONFIG_ECHO_GIF_MAX_PATH_LEN=96
CONFIG_ECHO_GIF_SWAP_BYTES=y
CONFIG_ECHO_GIF_SCALE_TO_FULL_SCREEN=y
CONFIG_ECHO_GIF_STORAGE_MOUNT_PATH="/storage"
CONFIG_ECHO_GIF_STORAGE_PARTITION_LABEL="storage"
CONFIG_ECHO_GIF_STORAGE_GIF_DIR="/storage/gifs"
CONFIG_ECHO_GIF_STORAGE_GIF_DIR_FALLBACK="/storage"
CONFIG_TUTORIAL_0013_LOG_EVERY_N_FRAMES=0

# Console (default): UART on GROVE (AtomS3R Port.A, G1=GPIO1, G2=GPIO2).
#
# This sets the ESP-IDF console transport defaults so printf/ESP_LOG* and the
# esp_console REPL are on the external GROVE UART by default.
CONFIG_ESP_CONSOLE_UART_CUSTOM=y
CONFIG_ESP_CONSOLE_UART_CUSTOM_NUM_1=y
CONFIG_ESP_CONSOLE_UART_NUM=1
CONFIG_ESP_CONSOLE_UART_TX_GPIO=1
CONFIG_ESP_CONSOLE_UART_RX_GPIO=2
CONFIG_ESP_CONSOLE_UART_BAUDRATE=115200
CONFIG_ESP_CONSOLE_USB_SERIAL_JTAG=n
CONFIG_ESP_CONSOLE_UART_DEFAULT=n

# Tutorial console binding defaults (menuconfig â†’ Tutorial 0013: Console / esp_console)
CONFIG_TUTORIAL_0013_CONSOLE_BINDING_GROVE_UART=y
CONFIG_TUTORIAL_0013_CONSOLE_UART_NUM=1
CONFIG_TUTORIAL_0013_CONSOLE_UART_BAUDRATE=115200
CONFIG_TUTORIAL_0013_CONSOLE_UART_TX_GPIO=1
CONFIG_TUTORIAL_0013_CONSOLE_UART_RX_GPIO=2
CONFIG_TUTORIAL_0013_CONSOLE_PROMPT="gif> "

# Console debug (default off; enable only when diagnosing RX wiring)
CONFIG_TUTORIAL_0013_CONSOLE_RX_HEARTBEAT_ENABLE=n
CONFIG_TUTORIAL_0013_CONSOLE_RX_HEARTBEAT_INTERVAL_MS=1000


