# Tutorial 0038 defaults (ESP-IDF 5.4.1)
#
# Reproducible, board-appropriate defaults for Cardputer + ADV keyboard.
#

# Flash size: Cardputer is commonly 8MB.
CONFIG_ESPTOOLPY_FLASHSIZE_8MB=y
CONFIG_ESPTOOLPY_FLASHSIZE="8MB"

# Partition table: project-local partitions.csv (factory 4M + storage 1M).
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="partitions.csv"
CONFIG_PARTITION_TABLE_FILENAME="partitions.csv"

# CPU frequency: Cardputer demos usually run at 240MHz.
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240=y
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ=240

# Main task stack: M5GFX is C++ and can be stack-hungry.
CONFIG_ESP_MAIN_TASK_STACK_SIZE=8000

# Prefer USB Serial/JTAG for any console/REPL work on Cardputer/ADV.
CONFIG_ESP_CONSOLE_USB_SERIAL_JTAG=y
CONFIG_ESP_CONSOLE_UART_DEFAULT=n
CONFIG_ESP_CONSOLE_UART_CUSTOM=n
CONFIG_ESP_CONSOLE_USB_CDC=n

# Tutorial defaults:
CONFIG_TUTORIAL_0038_PRESENT_WAIT_DMA=y
CONFIG_TUTORIAL_0038_CANVAS_USE_PSRAM=n
CONFIG_TUTORIAL_0038_MAX_LINES=256

# Serial backend defaults:
# Default to UART so the USB Serial/JTAG transport is reserved for `esp_console`.
CONFIG_TUTORIAL_0038_BACKEND_UART=y
CONFIG_TUTORIAL_0038_LOCAL_ECHO=y
CONFIG_TUTORIAL_0038_SHOW_RX=y
CONFIG_TUTORIAL_0038_NEWLINE_CRLF=y
CONFIG_TUTORIAL_0038_BS_SEND_DEL=y

# UART defaults (only used when UART backend is selected):
CONFIG_TUTORIAL_0038_UART_NUM=1
CONFIG_TUTORIAL_0038_UART_BAUD=115200
CONFIG_TUTORIAL_0038_UART_TX_GPIO=2
CONFIG_TUTORIAL_0038_UART_RX_GPIO=1

# Debug:
CONFIG_TUTORIAL_0038_LOG_KEY_EVENTS=n

# Relay control (GPIO3 is active-low by default):
CONFIG_TUTORIAL_0038_RELAY_ENABLE=y
CONFIG_TUTORIAL_0038_RELAY_GPIO=3
CONFIG_TUTORIAL_0038_RELAY_ACTIVE_HIGH=n
