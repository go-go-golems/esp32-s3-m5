# WS2811 LED Pattern DSL
# 50 LED RGB Chain Configuration

chain:
  led_count: 50
  chipset: WS2811
  color_order: GRB
  max_brightness: 255

# Global defaults
defaults:
  brightness: 200
  speed: 5
  color1: { r: 255, g: 0, b: 0 }
  color2: { r: 0, g: 0, b: 255 }

# Pattern Definitions
patterns:

  rainbow:
    type: rainbow
    params:
      speed: 3            # 1-10, rotation speed
      saturation: 100     # 0-100%
      spread: 1.0         # hue spread multiplier (1.0 = full rainbow across strip)
    description: "Rotating rainbow across all LEDs"

  chase:
    type: chase
    params:
      speed: 5            # 1-10, movement speed
      tail_length: 5      # number of LEDs in tail
      color_fg: { r: 0, g: 255, b: 255 }   # chase color
      color_bg: { r: 0, g: 0, b: 10 }      # background color
      direction: forward  # forward | reverse | bounce
      fade_tail: true     # fade tail or solid
    description: "Single LED chasing with fading tail"

  breathing:
    type: breathing
    params:
      speed: 3            # 1-10, breath rate
      color: { r: 255, g: 0, b: 255 }
      min_brightness: 10  # 0-255, minimum during breath
      max_brightness: 255 # 0-255, maximum during breath
      curve: sine         # sine | linear | ease_in_out
    description: "All LEDs breathing/pulsing in unison"

  sparkle:
    type: sparkle
    params:
      speed: 5            # affects sparkle duration
      color: { r: 255, g: 255, b: 255 }
      density: 8          # percentage chance per frame (0-100)
      fade_speed: 50      # how fast sparkles fade (1-100)
      color_mode: fixed   # fixed | random | rainbow
      background: { r: 5, g: 5, b: 5 }
    description: "Random twinkling sparkle effect"

# Preset Sequences (optional)
presets:
  party:
    - pattern: rainbow
      duration_ms: 10000
    - pattern: sparkle
      duration_ms: 5000
      override:
        color_mode: random

  chill:
    - pattern: breathing
      duration_ms: 0  # 0 = infinite
      override:
        color: { r: 100, g: 150, b: 255 }
        speed: 2

  alert:
    - pattern: chase
      duration_ms: 0
      override:
        color_fg: { r: 255, g: 0, b: 0 }
        speed: 8
