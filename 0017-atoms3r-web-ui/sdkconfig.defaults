# Tutorial 0017 defaults (ESP-IDF 5.4.1)
#
# Reproducible defaults for AtomS3R Web UI demo.
#

# Flash size: AtomS3R commonly 8MB.
CONFIG_ESPTOOLPY_FLASHSIZE_8MB=y
CONFIG_ESPTOOLPY_FLASHSIZE="8MB"

# Partition table: project-local partitions.csv (factory 2M + storage ~6M).
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="partitions.csv"
CONFIG_PARTITION_TABLE_FILENAME="partitions.csv"

# CPU frequency: demos usually run at 240MHz.
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240=y
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ=240

# Main task stack: C++ + M5GFX can be stack-hungry.
CONFIG_ESP_MAIN_TASK_STACK_SIZE=8000

# Use USB Serial/JTAG as the primary console channel (keep GROVE UART free for terminal feature).
CONFIG_ESP_CONSOLE_USB_SERIAL_JTAG=y
CONFIG_ESP_CONSOLE_UART_DEFAULT=n
CONFIG_ESP_CONSOLE_UART_CUSTOM=n
CONFIG_ESP_CONSOLE_USB_CDC=n

# HTTP server: enable WebSocket support (for /ws terminal + button events).
CONFIG_HTTPD_WS_SUPPORT=y

# FATFS: enable long file name support for uploaded graphics.
CONFIG_FATFS_LFN_HEAP=y
CONFIG_FATFS_MAX_LFN=255

# UI defaults (AtomS3R GC9107, 128x128 window in 128x160 RAM)
CONFIG_TUTORIAL_0017_LCD_HRES=128
CONFIG_TUTORIAL_0017_LCD_VRES=128
CONFIG_TUTORIAL_0017_LCD_X_OFFSET=0
CONFIG_TUTORIAL_0017_LCD_Y_OFFSET=32
CONFIG_TUTORIAL_0017_LCD_SPI_PCLK_HZ=40000000
CONFIG_TUTORIAL_0017_LCD_INVERT=n
CONFIG_TUTORIAL_0017_LCD_RGB_ORDER_RGB=n
CONFIG_TUTORIAL_0017_CANVAS_USE_PSRAM=n
CONFIG_TUTORIAL_0017_PRESENT_USE_DMA=y

# Backlight defaults (AtomS3R commonly uses both gate GPIO and I2C brightness device).
CONFIG_TUTORIAL_0017_BACKLIGHT_GATE_ENABLE=y
CONFIG_TUTORIAL_0017_BACKLIGHT_GATE_GPIO=7
CONFIG_TUTORIAL_0017_BACKLIGHT_GATE_ACTIVE_LOW=y
CONFIG_TUTORIAL_0017_BACKLIGHT_I2C_ENABLE=y
CONFIG_TUTORIAL_0017_BL_I2C_SCL_GPIO=0
CONFIG_TUTORIAL_0017_BL_I2C_SDA_GPIO=45
CONFIG_TUTORIAL_0017_BL_I2C_ADDR=0x30
CONFIG_TUTORIAL_0017_BL_I2C_REG=0x0e
CONFIG_TUTORIAL_0017_BL_BRIGHTNESS_ON=255

# Button defaults (revision-dependent; override if needed).
CONFIG_TUTORIAL_0017_BUTTON_GPIO=41
CONFIG_TUTORIAL_0017_BUTTON_ACTIVE_LOW=y
CONFIG_TUTORIAL_0017_BUTTON_DEBOUNCE_MS=50

# UART defaults (GROVE Port.A defaults: G1=GPIO1, G2=GPIO2).
CONFIG_TUTORIAL_0017_UART_NUM=1
CONFIG_TUTORIAL_0017_UART_BAUDRATE=115200
CONFIG_TUTORIAL_0017_UART_TX_GPIO=1
CONFIG_TUTORIAL_0017_UART_RX_GPIO=2

# Storage defaults
CONFIG_TUTORIAL_0017_STORAGE_PARTITION_LABEL="storage"
CONFIG_TUTORIAL_0017_STORAGE_MOUNT_PATH="/storage"
CONFIG_TUTORIAL_0017_STORAGE_GRAPHICS_DIR="/storage/graphics"
CONFIG_TUTORIAL_0017_MAX_UPLOAD_BYTES=262144

# SoftAP defaults
CONFIG_TUTORIAL_0017_WIFI_SOFTAP_SSID="AtomS3R-WebUI"
CONFIG_TUTORIAL_0017_WIFI_SOFTAP_PASSWORD=""
CONFIG_TUTORIAL_0017_WIFI_SOFTAP_CHANNEL=6
CONFIG_TUTORIAL_0017_WIFI_SOFTAP_MAX_CONN=4


